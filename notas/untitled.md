# Obteniendo una shell totalmente interactiva.

Al obtener un reverse shell con netcat, no es interactivo de forma predeterminada. No se puede tabular de forma predeterminada, no se pueden usar atajos del teclado, inclusive no se puede correr algún servicio en modo interactivo \(python, por ejemplo\). Para arreglar este problema, debemos seguir estos pasos.

Primero tenemos que cargar una pseudoconsola, se puede hacer con python.

`$ python -c 'import pty;pty.spawn("/bin/bash")'`

Debemos de mandar la shell remota a segundo plano con CTRL-Z:

`usuario@remoto:~$ ^z`

Obtención de filas y columnas dentro de la ventana actual de la terminal:

`usuario@local:~$ stty -a | head -n1 | cut -d ';' -f 2-3 | cut -b2- | sed 's/; /\n/'`

`usuario@local:~$ stty size`

{% hint style="info" %}
El número de filas y columnas se ocupa para más adelante.
{% endhint %}

Ignorar las teclas de acceso rápido en el shell local y volver al control remoto:

`usuario@local:~$ stty raw -echo; fg`

Establecer el tamaño correcto para el shell remoto \(donde ROWS y COLS son los valores de la\):

`user@remote:~$ stty rows ROWS cols COLUMNS`

Establece el emulador de terminal en linux.

`user@remote:~$ export TERM=xterm`

Volver a cargar la bash para aplicar la variable TERM:

`user@remote:~$ exec /bin/bash`

