# 1.3 Tuberías y redirección

Cada programa que se ejecuta desde la línea de comandos tiene tres flujos de datos conectados a ella que sirven como canales de comunicación con el entorno externo. Estas corrientes se definen de la siguiente manera:

|                          |                                              |
| ------------------------ | -------------------------------------------- |
| Stream names             | Descripción                                  |
| Standard Input (STDIN)   | Datos introducidos en el programa            |
| Standard Output (STDOUT) | Salida del programa (por defecto a terminal) |
| Standard Error (STDERR)  | Mensajes de error (por defecto en terminal)  |

A manera gráfica podemos verlo de la siguiente manera.

![](<../../.gitbook/assets/image (126).png>)

La tubería (utilizando el operador`|`) y la redirección (utilizando los operadores`>` y `<`) conectan estos flujos entre programas y archivos para dar cabida a un número casi infinito de posibles casos de uso.

## Operadores > y <

### Redireccionando a un archivo

Podemos usar `echo` para imprimir en pantalla. Pero podemos usar el operador `>` para guardar la salida en un archivo para guardarla para futuras referencias o manipulaciones:

```
$ echo "Mensaje de texto" > redireccion.txt

$ cat redireccion.txt
Mensaje de texto

$ echo "Otro mensaje de texto" > redireccion.txt

$ cat redireccion.txt
Otro mensaje de texto
```

Si redirigimos la salida a un archivo inexistente, el archivo se creará automáticamente. Sin embargo, si guardamos la salida en un archivo que ya existe, el contenido de ese archivo será reemplazado. ¡Ten cuidado con la redirección! ¡No hay función de deshacer!

### Redireccionamiento a un archivo existente

Para anexar datos adicionales a un archivo existente (en lugar de sobrescribir el archivo) utilicé el operador `>>`

```
$ echo "Un mensaje de texto sin borrar el anterior" >> redireccion.txt

$ cat redireccion.txt
Otro mensaje de texto
Un mensaje de texto sin borrar el anterior
```

### Redireccionamiento desde un archivo

Podemos utilizar el operador < para enviar datos. En el siguiente ejemplo, redirigimos el STDIN del comando wc con datos que se originan directamente desde el archivo que generamos en la sección anterior. Intentemos esto con wc -m que cuenta caracteres en el archivo:

```
$ wc -m redireccion.txt
65 redireccion.txt
```

### Redireccionamiento de STDERR

El STDIN, STDOUT y STDERR se definen como 0, 1 y 2 respectivamente. Estos números son importantes, ya que se pueden usar para manipular los flujos de datos correspondientes desde la línea de comandos mientras se ejecutan o unen diferentes comandos (justo como se muestra en la imagen de arriba).

Para comprender mejor cómo funcionan, este ejemplo que redirige el error estándar (STDERR):

```
$ ls
redireccion.txt

$ ls test
lsd: test: No such file or directory (os error 2).

$ ls test 2>ls_error

$ cat ls_error
lsd: test: No such file or directory (os error 2).
```

Tenga en cuenta que ls_error solo contiene el mensaje de error (generado en STDERR). Alteramos el flujo al utilizar el operador ">" (2 = STDERR).

```
$ ls redireccion.txt test 2>ls_error 1>ls_output

$ cat ls_error
lsd: test: No such file or directory (os error 2).

$ cat ls_output
redireccion.txt

```

En el ejemplo anterior, tanto el STDERR y el STDOUT pueden ser redireccionados en el mismo comando a archivos de texto separados, enviando el STDERR a ls_error y STDOUT a ls_output.

## Operador |

Tuberia





