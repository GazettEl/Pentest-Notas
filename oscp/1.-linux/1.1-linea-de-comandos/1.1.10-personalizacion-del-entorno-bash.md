# 1.1.10 Personalización del entorno Bash

## Personalización del historial de Bash

Anteriormente en este módulo, discutimos las variables de entorno y el comando **`history`**. Podemos usar una serie de variables de entorno para cambiar la forma en que el comando **`history`** opera y devuelve datos, las más comunes incluyen HISTCONTROL, HISTIGNORE e HISTTIMEFORMAT.

La variable HISTCONTROL** **define si se deben quitar o no los comandos duplicados, los comandos que comienzan con espacios del historial o ambos. De forma predeterminada, ambos se eliminan, pero es posible que le resulte más útil omitir solo los duplicados.

* Remover resultados duplicados: **`export HISTCONTROL=ignoredups`**
* Ignorar comandos que deseemos: **`export HISTIGNORE="&:ls:exit:history"`**
* Mostrar con fecha y/o hora en la salida de history: **`export HISTTIMEFORMAT='%F %T '`**

Si realizamos estos comandos debemos de recordar que no son persistentes y estas variables se perderán al cerrar la sesión en la shell.

## Alias

Un alias es una cadena que podemos definir que reemplaza un nombre de comando. Los alias son útiles para reemplazar comandos y modificadores de uso común con un comando más corto, o alias, que definimos. En otras palabras, un alias es un comando que nosotros mismos definimos, construido a partir de otros comandos. Un ejemplo de esto es el comando **`ls`**, donde normalmente tendemos a usar **`ls -la`** (mostrar resultados en una larga lista, incluidos los archivos ocultos). Echemos un vistazo a cómo podemos usar un alias para reemplazar este comando:

```
$ alias lsa='ls -la'
$ lsa
drwxr-xr-x gazette gazette 4.0 KB Sun Oct 17 22:04:54 2021  .
drwxr-xr-x gazette gazette 4.0 KB Sun Oct 17 11:37:26 2021  ..
.rw------- gazette gazette 1.8 KB Thu Oct 14 10:10:20 2021  id_rsa
.rw-r--r-- gazette gazette 393 B  Thu Oct 14 10:10:20 2021  id_rsa.pub
.rw-r--r-- gazette gazette  17 B  Sun Oct 17 22:04:54 2021  mansaje.txt
.rw-r--r-- gazette gazette 5.2 KB Thu Oct 14 12:08:44 2021  services_192.168.100.106
```

Una advertencia: el comando alias no tiene ninguna restricción en las palabras utilizadas para un alias. Por lo tanto, es posible crear un alias utilizando una palabra que ya corresponde a un comando existente.

## Personalización persistente de Bash

El comportamiento de los shells interactivos en Bash está determinado por el archivo bashrc de todo el sistema ubicado en /etc/bash.bashrc. La configuración de Bash en todo el sistema se puede anular editando el archivo .bashrc ubicado en el directorio de inicio de cualquier usuario.

En la sección anterior, exploramos el comando alias, que establece un alias para la sesión de terminal actual. También podemos insertar este comando en el archivo .bashrc en el directorio de inicio de un usuario para establecer un alias persistente. El script .bashrc se ejecuta cada vez que el usuario inicia sesión. Dado que este archivo es un script de shell, podemos insertar cualquier comando que se pueda ejecutar desde el símbolo del sistema.

Yo uso **`zsh`** por lo tanto tengo si quisiera agregar algo lo tendría que hacer en el archivo .zshrc, mostraré algunos alias y funciones que tengo creadas.

```
...
# algunos alias con lsd
alias ll='lsd -lh --group-dirs=first'
alias la='lsd -a --group-dirs=first'
alias l='lsd --group-dirs=first'
alias lla='lsd -lha --group-dirs=first'
alias ls='lsd --group-dirs=first'
alias cat='/usr/bin/bat'

# hackthebox vpn
# con esto me conecto a hackthebox de manera mas rapida
function vpn-htb() {
 	sudo openvpn /home/gazette/Documents/Hackthebox/lGazettEl.ovpn
}

#  open wireshark
# esto me abre wireshark en la terminal y me independiza el proceso.
function open-wireshark(){
	sudo zsh -c "wireshark > /dev/null 2>1 &;disown %"
}
...
```

Esta configuración se puede extender tanto como se requiera.
